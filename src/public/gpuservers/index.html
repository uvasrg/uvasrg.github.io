<!doctype html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    <title> | Security Research Group</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="//uvasrg.github.io/css/foundation.css">
    <link rel="stylesheet" href="//uvasrg.github.io/css/highlight.min.css">
    <link rel="stylesheet" href="//uvasrg.github.io/css/font-awesome.min.css">
    <link rel="stylesheet" href="//uvasrg.github.io/css/academicons.min.css">
    <link rel="stylesheet" href="//uvasrg.github.io/css/fonts.css">
    <link rel="stylesheet" href="//uvasrg.github.io/css/finite.css">
    <link rel="shortcut icon" href="/rotunda.png">  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      extensions: ["tex2jax.js"],
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\[","\]"], ["\\[","\\]"] ],
        processEscapes: true
      },
      messageStyle: "none",
      "HTML-CSS": { availableFonts: ["TeX"] }
    });
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
  </script>
  
    
  </head>
  <body>
      
    <header>
      <nav class="nav-bar">
	
	  <div class="title-bar" data-responsive-toggle="site-menu" data-hide-for="medium">	      
	    <button class="site-hamburger" type="button" data-toggle>
	      <i class="fa fa-bars fa-lg" aria-hidden="true"></i>
	    </button>
	    <div class="title-bar-title site-title">
	      <a href="//uvasrg.github.io/">
		Security Research Group</a>
	    </div>
	    <div class="title-bar-right pull-right">
	      



	    </div>
	  </div>
	</nav>
      
    </header>
    
    <main>
      
<div class="row">
  <div class="column small-12 medium-10 medium-offset-1 end large-8 large-offset-0">
    <article class="article" itemscope itemtype="http://schema.org/Article">
      
      <h1 itemprop="name"></h1>
      <div class="post-body" itemprop="articleBody">
        <h1 id="using-the-gpu-servers">Using the GPU Servers</h1>
<p>Here are some notes on how to use the GPU servers (thanks to Brian
Tran for creating this document). Before getting started, you&rsquo;ll need
a CS department account set up.</p>
<ol>
<li>First, log into the general purpose server (e.g., <code>portal01</code>) using:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -l _YourComputingID_ portal01.cs.virginia.edu
</span></span></code></pre></div><p>(for more, see
<a href="https://www.cs.virginia.edu/wiki/doku.php?id=linux_ssh_access">https://www.cs.virginia.edu/wiki/doku.php?id=linux_ssh_access</a>.</p>
<ol start="2">
<li>
<p>Run <code>srun -p gpu -w _ai01_ --pty bash -i -l</code> to log into one of the
nodes that support GPU. Change <code>_ai01_</code> with the specific compute
resource you are requesting (list of available compute resources are
here:
<a href="https://www.cs.virginia.edu/wiki/doku.php?id=compute_resources">https://www.cs.virginia.edu/wiki/doku.php?id=compute_resources</a>,
you need to run the code on one of these nodes.</p>
</li>
<li>
<p>Run <code>curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</code> in the command shell. This will download anaconda. Follow the on-screen prompts.</p>
</li>
<li>
<p>Run <code>sh Miniconda3-latest-Linux-x86_64.sh</code>, and follow the on-screen prompts.</p>
</li>
<li>
<p>Create a virtual environment with command below. You should be able
to use a recent version of python, unless you are stuck using
libraries that haven&rsquo;t been updated (and may need to use Python 2.7).</p>
</li>
</ol>
<p><code>conda create -n yourenvname python=_x.x_ anaconda</code></p>
<ol start="6">
<li>
<p>You might need to configure the path explicitly to ensure anaconda works properly. For example, <code>PATH=~/anaconda2/bin:$PATH</code></p>
</li>
<li>
<p>Cuda modules are already installed on the server and you only need to load by typing the two commands one by one:
<code>module load cudnn;</code><br>
<code>module load cuda-toolkit-9.0.</code></p>
</li>
<li>
<p>Activate environment with <code>source activate env_name</code> or <code>conda activate env_name</code>.</p>
</li>
<li>
<p>Download pytorch or tensorflow that is compatible with cuda 9.0:</p>
</li>
</ol>
<ul>
<li><code>conda install pytorch==1.0.1 torchvision==0.2.2 cudatoolkit=9.0 -c pytorch</code> (details can be found from here, make sure you are looking for cuda 9.0: <a href="https://pytorch.org/get-started/previous-versions/">https://pytorch.org/get-started/previous-versions/</a>)</li>
<li><code>pip install tensorflow-gpu==1.15</code> (check your own TF version and replace with matching one, details can be found here: <a href="https://www.tensorflow.org/install/gpu">https://www.tensorflow.org/install/gpu</a>)</li>
</ul>
<ol start="10">
<li>Run desired pytorch code, when you want to run the code again
after logging out from the server, repeat the process of loading the
two cuda modules and also set the path for Anaconda directory if
needed and activate your virtual environment.</li>
</ol>

      </div>

      <meta itemprop="wordCount" content="313">
      <meta itemprop="datePublished" content="0001-01-01">
      <meta itemprop="url" content="//uvasrg.github.io/gpuservers/">
    </article>


  </div>
</div>

    </main>
    
    
<footer class="whatisthis">
  <hr />
  <div class="row">
    <div class="column small-8 medium-4">
      
      <a href="/"><img src="/images/srg-logo-scaled.png" width=100 height=100 alt="SRG Logo" align="left"> <b>Security Research Group</b></a><br>
      <a href="//www.cs.virginia.edu/">University of Virginia</a><br>
    </div>
    <div class="column small-6 medium-3">
      <font size="-1">
      Subscribe to
	the <a href="/index.xml"><i class="fa fa-rss-square"></i>&nbsp;RSS feed</a>.
      <a id="searchsite">
	<form method="get" action="https://duckduckgo.com/">
	  <label for="search-field" class="show-for-sr">Search with DuckDuckGo</label>
	  <input type="search" name="q" maxlength="255" placeholder="Search with DuckDuckGo" id="search-field">
	  <input type="hidden" name="sites" value="//uvasrg.github.io/"/>
	  <input type="hidden" name="k7" value="#faf8f8"/>
	  <input type="hidden" name="kj" value="#b33"/>
	  <input type="hidden" name="ky" value="#fafafa"/>
	  <input type="hidden" name="kx" value="b"/>
	  <input type="hidden" name="ko" value="-1"/>
	  <input type="hidden" name="k1" value="-1"/>
	  <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
	</form>
      </a>
</font>
    </div>
  </div>
</footer>


    
    <div class="endofpage">
    </div>

    <script src="/js/jquery-3.7.0.slim.min.js"></script>
    <script src="/js/what-input.js"></script>
    <script src="/js/foundation.min.js"></script>
    <script src="/js/finite.js"></script>

    
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    
    
  </body>
</html>
